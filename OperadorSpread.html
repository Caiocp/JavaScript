https://www.luiztools.com.br/post/4-segredos-do-operador-spread-em-javascript/

4 segredos do operador Spread em Javascript
Voc√™ conhece o operador Spread do JavaScript? Ele √© representado por tr√™s pontos, sim, o Spread operator √© o famoso ‚Äò‚Ä¶‚Äô (tr√™s pontinhos para os mais √≠ntimos). Ele basicamente permite que express√µes expandam o conte√∫do de arrays em locais onde m√∫ltiplos elementos s√£o esperados.

Conseguiu entender?

Vou mostrar de um jeito mais pr√°tico. Imagine o seguinte c√≥digo abaixo:

var middle = [3, 4];
var arr = [1, 2, middle, 5, 6];
console.log(arr);
// [1, 2, [3, 4], 5, 6]
1
2
3
4
var middle = [3, 4];
var arr = [1, 2, middle, 5, 6];
console.log(arr);
// [1, 2, [3, 4], 5, 6]
Note que neste caso eu n√£o usei o Spread. Ao colocar o array dentro de outro array (formando um jagged array ou nested array, erroneamente chamado de matriz em algumas universidades) temos um resultado um tanto inusitado ao imprimir ‚Äòarr‚Äô.

Agora experimente colocar ‚Äò‚Ä¶‚Äô antes do array middle para voc√™ ver o que acontece, como abaixo:

var middle = [3, 4];
var arr = [1, 2, ...middle, 5, 6];
console.log(arr);
// [1, 2, 3, 4, 5, 6]
1
2
3
4
var middle = [3, 4];
var arr = [1, 2, ...middle, 5, 6];
console.log(arr);
// [1, 2, 3, 4, 5, 6]
Spread significa espalhar, ou seja, este operador √© usado para ‚Äòespalhar‚Äô os elementos de um array quando interpretado em tempo de execu√ß√£o. Neste √∫ltimo caso, os itens de middle foram espalhados dentro de arr.

Este √© o uso default do Spread operator, mas ele √© mais poderoso que isso, e √© desses segredos que quero falar no artigo de hoje.

Segredo #1 ‚Äì C√≥pia de arrays com Spread
Voc√™ sabe como copiar um array em JavaScript? Programadores mais novatos podem achar que isso aqui funciona:

var arr = ['a', 'b', 'c'];
var arr2 = arr;
console.log(arr2);
// ['a', 'b', 'c']
1
2
3
4
var arr = ['a', 'b', 'c'];
var arr2 = arr;
console.log(arr2);
// ['a', 'b', 'c']
Mas infelizmente a vida n√£o √© t√£o simples. Neste caso arr2 n√£o √© uma c√≥pia de arr, mas sim o pr√≥prio arr, uma vez que a refer√™ncia de mem√≥ria de ambos √© a mesma. Duvida, ent√£o teste isso:

arr2.push('d');
console.log(arr2);
// ['a', 'b', 'c', 'd']
console.log(arr);
// ['a', 'b', 'c', 'd']
1
2
3
4
5
arr2.push('d');
console.log(arr2);
// ['a', 'b', 'c', 'd']
console.log(arr);
// ['a', 'b', 'c', 'd']
Notou que ao adicionar um item no arr2, ele tamb√©m aparecer no arr? Isso porque eles s√£o os mesmos! Uma das maneiras corretas de fazer isso √© usando fun√ß√µes espec√≠ficas.

Se voc√™ programa JavaScript h√° algum tempo deve conhecer a fun√ß√£o slice, certo? √â aquela que te permite copiar arrays. Mas voc√™ sabia que tamb√©m conseguimos copiar arrays usando o Spread?

var arr = ['a', 'b', 'c'];
var arr2 = [...arr];
console.log(arr2);
// ['a', 'b', 'c']
1
2
3
4
var arr = ['a', 'b', 'c'];
var arr2 = [...arr];
console.log(arr2);
// ['a', 'b', 'c']
Ao expandirmos o array com o Spread, o valor de seus itens s√£o copiados pra dentro do outro array. Ambos arrays s√£o independentes, ent√£o √© claramente uma forma de copiar arrays que funciona.

Segredo #2 ‚Äì Concatena√ß√£o de arrays com Spread
E se eu quero juntar dois arrays? J√° sacamos que usar o operador de atribui√ß√£o (=) n√£o resolve. O operador de soma obviamente tamb√©m n√£o. Voc√™ sabe qual a fun√ß√£o espec√≠fica que faz isso no JavaScript? A concat:

var arr = ['a', 'b', 'c'];
var arr2 = ['d', 'e', 'f'];

arr1 = arr.concat(arr2);
console.log(arr);
// ['a', 'b', 'c', 'd', 'e', 'f']
1
2
3
4
5
6
var arr = ['a', 'b', 'c'];
var arr2 = ['d', 'e', 'f'];
 
arr1 = arr.concat(arr2);
console.log(arr);
// ['a', 'b', 'c', 'd', 'e', 'f']
Mas voc√™ sabia que tem um jeito muito mais f√°cil de fazer isso usando o Spread operator?

var arr = ['a', 'b', 'c'];
var arr2 = ['d', 'e', 'f'];
arr = [...arr, ...arr2];
console.log(arr);
// ['a', 'b', 'c', 'd', 'e', 'f']
1
2
3
4
5
var arr = ['a', 'b', 'c'];
var arr2 = ['d', 'e', 'f'];
arr = [...arr, ...arr2];
console.log(arr);
// ['a', 'b', 'c', 'd', 'e', 'f']
Bacana, n√£o?!

Segredo #3 ‚Äì Opera√ß√µes matem√°ticas com Spread
Voc√™ sabia que √© poss√≠vel usar as fun√ß√µes matem√°ticas do JavaScript em conjunto com o Spread?

Vamos come√ßar falando do Math.max(), fun√ß√£o que retorna o maior de um grupo de n√∫meros, que passamos a ela por par√¢metro.

Math.max();
// -Infinity
Math.max(1, 2, 3);
// 3
Math.max(100, 3, 4);
// 100
1
2
3
4
5
6
Math.max();
// -Infinity
Math.max(1, 2, 3);
// 3
Math.max(100, 3, 4);
// 100
N√£o tem como passarmos um array por par√¢metro nesta function, mas com uma fun√ß√£o auxiliar sim, embora fique bem estranho:

var arr = [2, 4, 8, 6, 0];
function max(arr) {
  return Math.max.apply(null, arr);
}
console.log(max(arr));
// 8
1
2
3
4
5
6
var arr = [2, 4, 8, 6, 0];
function max(arr) {
  return Math.max.apply(null, arr);
}
console.log(max(arr));
// 8
Mas e o Spread?

var arr = [2, 4, 8, 6, 0];
var max = Math.max(...arr);
console.log(max);
// 8
1
2
3
4
var arr = [2, 4, 8, 6, 0];
var max = Math.max(...arr);
console.log(max);
// 8
Show, hein!

Segredo #4 ‚Äì String para Array
E se voc√™ precisar transformar uma string em um array de caracteres? Tipo nos tempos do C-ANSI, lembra?

Essa √© bem f√°cil, como abaixo:

var str = "hello";
var chars = [...str];
console.log(chars); 
// ['h', 'e',' l',' l', 'o']
1
2
3
4
var str = "hello";
var chars = [...str];
console.log(chars); 
// ['h', 'e',' l',' l', 'o']
E √© isso por hoje, o artigo foi curto, mas a inten√ß√£o foi grande! At√© a pr√≥xima! üòâ